{% load bootstrap3 %}

{% if messages %}
<script type="application/javascript">
$(document).ready(function() {
{% for message in messages %}
    // Get the type
    {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
        var type = 'danger';
        var icon = 'remove';
    {% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
        var type = 'success';
        var icon = 'ok';
    {% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
        var type = 'primary';
        var icon = 'info-sign';
    {% elif message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
        var type = 'warning';
        var icon = 'alert';
    {% elif message.level == DEFAULT_MESSAGE_LEVELS.DEBUG %}
        var type = 'info';
        var icon = 'bullhorn';
    {% else %}
        var type = 'info';
        var icon = 'info-sign';
    {% endif %}
    // Show the message.
    notify(type, '{{ message }}', 'glyphicon glyphicon-' + icon);
{% endfor %}
});
</script>
<noscript>
{% for message in messages %}
    {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
    <div class="alert alert-danger alert-dismissable {% if message.tags %}{{ message.tags }}{% endif %}">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong>Error:</strong> {{ message }}
    </div>
    {% elif message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
    <div class="alert alert-success alert-dismissable {% if message.tags %}{{ message.tags }}{% endif %}">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong>Success:</strong> {{ message }}
    </div>
    {% elif message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
    <div class="alert alert-info alert-dismissable {% if message.tags %}{{ message.tags }}{% endif %}">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong>Info:</strong> {{ message }}
    </div>
    {% elif message.level == DEFAULT_MESSAGE_LEVELS.WARNING %}
    <div class="alert alert-warning alert-dismissable {% if message.tags %}{{ message.tags }}{% endif %}">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong>Warning:</strong> {{ message }}
    </div>
    {% elif message.level == DEFAULT_MESSAGE_LEVELS.DEBUG %}
    <div class="alert alert-info alert-dismissable {% if message.tags %}{{ message.tags }}{% endif %}">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong>Debug:</strong> {{ message }}
    </div>
    {% endif %}
{% endfor %}
</noscript>
{% endif %}
